{"name":"Pushbullet-zabbix","tagline":"Integração do Pushbullet com o Zabbix usando Shellscript","body":"## Integração do Pushbullet com o Zabbix usando Shellscript\r\n\r\n### No Pushbullet\r\n####Conseguindo o token no Pushbullet\r\nAcesse o link [account](https://www.pushbullet.com/#settings/account) e em **Access Token**, copie o seu token.\r\n\r\n### No Servidor Zabbix\r\nVerifique qual o seu diretório de AlertScriptsPath e copie o script:\r\n\r\n`grep ^AlertScript /etc/zabbix/zabbix_server.conf`\r\n\r\nPor exemplo:\r\n\r\n```\r\n[root@finarfin tmp]# grep ^AlertScript /etc/zabbix/zabbix_server.conf\r\nAlertScriptsPath=/usr/lib/zabbix/alertscripts\r\n```\r\nAcesse esse diretório e baixe o script [pushbullet.sh](https://raw.githubusercontent.com/rauhmaru/pushbullet-sh/master/pushbullet.sh).\r\nVocê pode:\r\n```\r\nwget https://raw.githubusercontent.com/rauhmaru/pushbullet-sh/master/pushbullet.sh\r\nchmod +x pushbullet.sh\r\n```\r\n\r\n### No Zabbix Web\r\n####Crie o tipo de mídia:\r\nLogado no Zabbix Server como Super-Administrador, clique em **Administração** > **Tipos de mídias** e depois em **Criar tipo de mídia**.\r\nEntão teremos:\r\n* **Nome:** Pushbullet\r\n* **Tipo:** Script\r\n* **Nome do script:** pushbullet.sh\r\n* **Ativo:** sim\r\n\r\n####Crie o usuário Pushbullet\r\nEm **Administração > Usuários**, clique em **Criar usuário**\r\nNa guia Usuário, defina o apelido **Pushbullet**. Fique a vontade com os outros parâmetros. Coloque-o em um grupo que tenha acesso as notificações que deseja emitir. O Zabbix administrators é uma sugestão.\r\nNa guia Mídia, clique em adicionar. Defina:\r\n* **Tipo:** Pushbullet \r\n* **Enviar para:** Esse campo não será usado. Preencha como quiser.\r\n* **Quando ativo:** Período de notificação. O padrão é 24/7.\r\n* **Ativo:** Sim\r\n\r\n####Defina as ações\r\n* Na guia **Configuração > Ações**, clique em **Criar ação**\r\n* Na guia **Ação**, defina o nome **Pushbullet**.\r\n* No campo **Assunto padrão**, defina **PROBLEMA**.\r\n* No campo **Mensagem padrão**, defina, por exemplo:\r\n```\r\n{TRIGGER.NAME} - {HOSTNAME} ({IPADDRESS})\r\n```\r\n* Marque o campo **Mensagem de recuperação** e defina o **Assunto da recuperação** como **RESOLVIDO**. A mensagem de recuperação deixe igual (se quiser, claro!) a mensagem padrão.\r\n* Na guia **Ações**, em **Operações da ação**, clique em **Nova**.\r\ndefina, em **Detalhes da operação > Enviar para usuários**, clique em **Adicionar** e selecione **Pushbullet** e adicione a ação.\r\n","google":"UA-71206570-1","note":"Don't delete this file! It's used internally to help with page regeneration."}